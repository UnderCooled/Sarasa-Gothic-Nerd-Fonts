{
  "version": "0.34.6",
  "description": "Nerd Fonts patched Sarasa Mono TC",
  "homepage": "https://github.com/jonz94/Sarasa-Gothic-Nerd-Font",
  "license": "OFL-1.1",
  "url": "https://github.com/jonz94/Sarasa-Gothic-Nerd-Font/releases/download/v0.34.6/sarasa-mono-tc-nerd-font.zip",
  "hash": "3caf48766d7d0bccbf92abc50e1724591e8517dc4587f2d4a314df478517050c",
  "installer": {
    "script": [
      "$fontDir = if ($global) { \"${env:windir}\\Fonts\" } else { \"${HOME}\\AppData\\Local\\Microsoft\\Windows\\Fonts\" }",
      "$root = if ($global) { \"HKLM\" } else { \"HKCU\" }",
      "if (-Not $global) {",
      "  New-Item $fontDir -ItemType Directory -ErrorAction SilentlyContinue | Out-Null",
      "}",
      "Get-ChildItem $dir -Filter '*.ttf' | ForEach-Object {",
      "  Copy-Item $_.FullName -destination $fontDir",
      "  Get-ChildItem $fontDir -Filter $_.Name | ForEach-Object {",
      "    $value = if ($global) { $_.Name } else { $_.FullName }",
      "    New-ItemProperty -Path \"${root}:\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Fonts\" -Name $_.Name.Replace($_.Extension, ' (TrueType)') -Value $value -Force | Out-Null",
      "  }",
      "}"
    ]
  },
  "uninstaller": {
    "script": [
      "$fontDir = if ($global) { \"${env:windir}\\Fonts\" } else { \"${HOME}\\AppData\\Local\\Microsoft\\Windows\\Fonts\" }",
      "$root = if ($global) { \"HKLM\" } else { \"HKCU\" }",
      "Get-ChildItem $dir -Filter '*.ttf' | ForEach-Object {",
      "  Get-ChildItem $fontDir -Filter $_.Name | ForEach-Object {",
      "    try {",
      "      Rename-Item $_.FullName $_.FullName -ErrorVariable LockError -ErrorAction Stop",
      "    } catch {",
      "      error \"$app is being used by another process.\"",
      "      error \"Please close all applications (e.g. vscode) that are using $app before upgrade/uninstall.\"",
      "      exit 1",
      "    }",
      "  }",
      "}",
      "Get-ChildItem $dir -Filter '*.ttf' | ForEach-Object {",
      "  Remove-ItemProperty -Path \"${root}:\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Fonts\" -Name $_.Name.Replace($_.Extension, ' (TrueType)') -Force -ErrorAction SilentlyContinue",
      "  Remove-Item \"${fontDir}\\$($_.Name)\" -Force -ErrorAction SilentlyContinue",
      "}",
      "Write-Host \"The 'Sarasa Mono TC Nerd Font' has been uninstalled and will not be present after restarting your computer.\" -Foreground Magenta"
    ]
  }
}
